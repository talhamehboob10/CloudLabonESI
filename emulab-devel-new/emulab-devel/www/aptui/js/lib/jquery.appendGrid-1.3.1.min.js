/*!
* jQuery appendGrid v1.3.1
* https://appendgrid.apphb.com/
*
* Copyright 2014 Albert L.
* Dual licensed under the LGPL (http://www.gnu.org/licenses/lgpl.html)
* and MIT (http://www.opensource.org/licenses/mit-license.php) licenses.
*
* Depends:
* jQuery v1.9.1+
* jquery UI v1.10.2+
*/
(function(f){var p={caption:null,initRows:3,initData:null,columns:null,i18n:null,idPrefix:null,rowDragging:false,hideButtons:null,hideRowNumColumn:false,buttonClasses:null,customRowButtons:null,customFooterButtons:null,dataLoaded:null,afterRowAppended:null,afterRowInserted:null,afterRowSwapped:null,beforeRowRemove:null,afterRowRemoved:null};var u={type:"text",name:null,value:null,display:null,displayCss:null,cellCss:null,ctrlAttr:null,ctrlProp:null,ctrlCss:null,ctrlClass:null,ctrlOptions:null,uiOption:null,uiTooltip:null,customBuilder:null,customGetter:null,customSetter:null,onClick:null,onChange:null};var q={noColumnInfo:"Cannot initial grid without column information!",elemNotTable:"Cannot initial grid on element other than TABLE!",notInit:"`appendGrid` does not initialized",getValueMultiGrid:"Cannot get values on multiple grid",notSupportMethod:"Method is not supported by `appendGrid`: "};var s={append:"Append Row",removeLast:"Remove Last Row",insert:"Insert Row Above",remove:"Remove Current Row",moveUp:"Move Up",moveDown:"Move Down",rowDrag:"Sort Row",rowEmpty:"This Grid Is Empty"};var k={append:null,removeLast:null,insert:null,remove:null,moveUp:null,moveDown:null,rowDrag:null};var e={append:false,removeLast:false,insert:false,remove:false,moveUp:false,moveDown:false};var j={init:function(N){var J=this;var I,A,M,C,F,B;if(J.length>0){if(!f.isArray(N.columns)||N.columns.length==0){alert(q.noColumnInfo);return J}I=J[0];if(l(I.tagName)||I.tagName!="TABLE"){alert(q.elemNotTable);return J}var E=f.extend({},p,N);f.extend(E,{_uniqueIndex:0,_rowOrder:[],_isDataLoaded:false,_visibleCount:0,_finalColSpan:0,_hideLastColumn:false});if(f.isPlainObject(N.i18n)){E._i18n=f.extend({},s,N.i18n)}else{E._i18n=f.extend({},s)}if(f.isPlainObject(N.buttonClasses)){E._buttonClasses=f.extend({},k,N.buttonClasses)}else{E._buttonClasses=f.extend({},k)}if(f.isPlainObject(N.hideButtons)){E.hideButtons=f.extend({},e,N.hideButtons)}else{E.hideButtons=f.extend({},e)}if(l(E.idPrefix)){if(l(I.id)||I.id==""){E.idPrefix="ag"+new Date().getTime()}else{E.idPrefix=I.id}}A=document.createElement("thead");A.className="ui-widget-header";M=document.createElement("tbody");M.className="ui-widget-content";C=document.createElement("tfoot");C.className="ui-widget-header";f(I).empty().addClass("appendGrid ui-widget").append(A,M,C);F=A.insertRow(-1);if(!E.hideRowNumColumn){B=F.insertCell(-1);B.className="ui-widget-header"}for(var K=0;K<E.columns.length;K++){var H=f.extend({},u,E.columns[K]);E.columns[K]=H;if(E.columns[K].type!="hidden"){E._visibleCount++;B=F.insertCell(-1);B.className="ui-widget-header";f(B).text(E.columns[K].display);if(E.columns[K].displayCss){f(B).css(E.columns[K].displayCss)}}}if(E.hideButtons.insert&&E.hideButtons.remove&&E.hideButtons.moveUp&&E.hideButtons.moveDown&&(!f.isArray(E.customRowButtons)||E.customRowButtons.length==0)){E._hideLastColumn=true}E._finalColSpan=E._visibleCount;if(!E.hideRowNumColumn){E._finalColSpan++}if(!E._hideLastColumn){E._finalColSpan++}if(!E._hideLastColumn){B=F.insertCell(-1);B.className="ui-widget-header"}if(E.caption){F=A.insertRow(0);B=F.insertCell(-1);B.className="ui-state-active caption";B.colSpan=E._finalColSpan;f(B).text(E.caption)}F=C.insertRow(-1);B=F.insertCell(-1);B.colSpan=E._finalColSpan;f("<input/>").attr({type:"hidden",id:E.idPrefix+"_rowOrder",name:E.idPrefix+"_rowOrder"}).appendTo(B);if(E.hideButtons.append&&E.hideButtons.removeLast&&(!f.isArray(E.customFooterButtons)||E.customFooterButtons.length==0)){F.style.display="none"}else{if(!E.hideButtons.append){f("<button/>").addClass("append",E._buttonClasses.append).attr({type:"button",title:E._i18n.append}).button({icons:{primary:"ui-icon-plusthick"},text:false}).click(function(){d(I,1,null,null)}).appendTo(B)}if(!E.hideButtons.removeLast){f("<button/>").addClass("removeLast",E._buttonClasses.removeLast).attr({type:"button",title:E._i18n.removeLast}).button({icons:{primary:"ui-icon-closethick"},text:false}).click(function(){i(I,null,this.value,false)}).appendTo(B)}if(E.customFooterButtons&&E.customFooterButtons.length){for(var L=E.customFooterButtons.length-1;L>=0;L--){var D=E.customFooterButtons[L];if(D&&D.uiButton&&D.click&&D.atTheFront){f(B).prepend(o(I,D))}}for(var L=0;L<E.customFooterButtons.length;L++){var D=E.customFooterButtons[L];if(D&&D.uiButton&&D.click&&!D.atTheFront){f(B).append(o(I,D))}}}}if(E.rowDragging){f(M).sortable({axis:"y",containment:I,handle:".rowDrag",helper:function(O,z){var P=z.children();var y=z.clone();y.children().each(function(Q){f(this).width(P.eq(Q).width())});return y},update:function(O,P){var y=P.item[0].id.substring(P.item[0].id.lastIndexOf("_")+1);var z=P.item[0].rowIndex-f("tr",A).length;n(I,P.originalPosition.top>P.position.top,y,z)}})}f(I).data("appendGrid",E);if(f.isArray(N.initData)){a(I,N.initData,true)}else{f(I).appendGrid("appendRow",E.initRows)}if(E._rowOrder.length==0){var G=f("<td></td>").text(E._i18n.rowEmpty).attr("colspan",E._finalColSpan);f("tbody",I).append(f("<tr></tr>").addClass("empty").append(G))}}return J},isReady:function(){var A=this,y=false;if(A.length>0){var z=A.first().data("appendGrid");if(z){y=true}}return y},isDataLoaded:function(){var A=this,y=null;if(this.length==1){var z=A.data("appendGrid");if(z){return z._isDataLoaded}else{return false}}else{return false}},load:function(y){var z=this;if(z.length>0){a(z[0],y,false)}return z},appendRow:function(y){return this.appendGrid("insertRow",y)},insertRow:function(B,F,z){var E=this;if(E.length>0){var y=E[0],D=null;var C=f(y).data("appendGrid");if(!C){alert(q.notInit)}else{if(B>0){D=d(y,B,F,z);if(f.isNumeric(F)||f.isNumeric(z)){r(y,D.rowIndex);var A=C._rowOrder[D.addedRows[0]];f("#"+C.idPrefix+"_Insert_"+A,y).focus()}}}}return E},removeRow:function(E,D){var C=this,F=-1;if(C.length>0){var B=C[0],y,G,A;var z=f(B).data("appendGrid");if(!z){alert(q.notInit)}else{if(z._rowOrder.length>0){i(B,E,D,true)}}}return C},moveUpRow:function(E,D){var C=this,F=-1;if(C.length>0){var B=C[0],I,H,y,A;var z=f(B).data("appendGrid");if(!z){alert(q.notInit)}else{var G=null;I=B.getElementsByTagName("tbody")[0];if(f.isNumeric(E)&&E>0&&E<z._rowOrder.length){G=E;D=z._rowOrder[E];H=document.getElementById(z.idPrefix+"_Row_"+D,B)}else{if(f.isNumeric(D)){G=g(D,z);H=document.getElementById(z.idPrefix+"_Row_"+D,B)}}if(G!=null&&G>0){y=document.getElementById(z.idPrefix+"_Row_"+z._rowOrder[G-1],B);I.removeChild(H);I.insertBefore(H,y);z._rowOrder[G]=z._rowOrder[G-1];z._rowOrder[G-1]=D;A=f("td.first",y).html();f("td.first",y).html(f("td.first",H).html());f("td.first",H).html(A);b(B,z);f("td.last button.moveUp",H).removeClass("ui-state-hover").blur();f("td.last button.moveUp",y).focus();if(z.afterRowSwapped){z.afterRowSwapped(B,G,G-1)}}}}return C},moveDownRow:function(E,D){var C=this,F=-1;if(C.length>0){var B=C[0],I,H,y,A;var z=f(B).data("appendGrid");if(!z){alert(q.notInit)}else{var G=null;I=B.getElementsByTagName("tbody")[0];if(f.isNumeric(E)&&E>=0&&E<z._rowOrder.length-1){G=E;D=z._rowOrder[E];H=document.getElementById(z.idPrefix+"_Row_"+D,B)}else{if(f.isNumeric(D)){G=g(D,z);H=document.getElementById(z.idPrefix+"_Row_"+D,B)}}if(G!=null&&G!=z._rowOrder.length-1){y=document.getElementById(z.idPrefix+"_Row_"+z._rowOrder[G+1],B);I.removeChild(y);I.insertBefore(y,H);z._rowOrder[G]=z._rowOrder[G+1];z._rowOrder[G+1]=D;A=f("td.first",y).html();f("td.first",y).html(f("td.first",H).html());f("td.first",H).html(A);b(B,z);f("td.last button.moveDown",H).removeClass("ui-state-hover").blur();f("td.last button.moveDown",y).focus();if(z.afterRowSwapped){z.afterRowSwapped(B,G,G+1)}}}}return C},getRowCount:function(){var z=this;if(z.length>0){var y=z.data("appendGrid");if(y){return y._rowOrder.length}else{alert(q.notInit)}}else{alert(q.getValueMultiGrid)}return null},getUniqueIndex:function(A){var z=this;if(z.length>0&&A>=0){var y=z.data("appendGrid");if(y){if(A<y._rowOrder.length){return y._rowOrder[A]}}else{alert(q.notInit)}}return null},getRowIndex:function(y){var B=this;if(B.length>0){var A=B.data("appendGrid");if(A){for(var C=0;C<A._rowOrder.length;C++){if(A._rowOrder[C]==y){return C}}return null}else{alert(q.notInit)}}return null},getRowValue:function(D,z,C){var B=this,y=null;if(B.length>0){var A=B.data("appendGrid");if(A){if(f.isNumeric(D)&&D>=0&&D<A._rowOrder.length){z=A._rowOrder[D]}if(!l(z)){y=h(A,z,C)}}else{alert(q.notInit)}}return y},getAllValue:function(C){var D=this,y=null,A;if(D.length>0){var B=f(D).data("appendGrid");if(B){y=C?{}:[];for(var E=0;E<B._rowOrder.length;E++){if(C){A=h(B,B._rowOrder[E],E);f.extend(y,A)}else{A=h(B,B._rowOrder[E]);y.push(A)}}if(C){y._RowCount=B._rowOrder.length}}}return y},getCtrlValue:function(y,C){var A=this;if(A.length>0){settings=A.data("appendGrid");if(settings&&C>=0&&C<settings._rowOrder.length){for(var B=0;B<settings.columns.length;B++){if(settings.columns[B].name===y){return c(settings,B,settings._rowOrder[C])}}}}return null},setCtrlValue:function(A,F,C){var D=this;if(D.length>0){var y=this,B=f(this).data("appendGrid");if(B&&F>=0&&F<B._rowOrder.length){for(var E=0;E<B.columns.length;E++){if(B.columns[E].name==A){m(B,E,B._rowOrder[F],C);break}}}}return D},getCellCtrl:function(B,A){var C=this,y=null;if(C.length==1){settings=C.data("appendGrid");if(!settings){alert(q.notInit)}else{for(var D=0;D<settings.columns.length;D++){if(settings.columns[D].name===B){return t(settings.columns[D].type,settings.idPrefix,B,A);break}}}}return null},getCellCtrlByRowIndex:function(B,E){var C=this,y=null;if(C.length==1){settings=C.data("appendGrid");if(!settings){alert(q.notInit)}else{if(E>=0&&E<settings._rowOrder.length){var A=settings._rowOrder[E];for(var D=0;D<settings.columns.length;D++){if(settings.columns[D].name===B){return t(settings.columns[D].type,settings.idPrefix,B,A)}}}}}return null},setCellCtrlByRowIndex:function(B,F,C){var D=this,y=null;if(D.length==1){settings=D.data("appendGrid");if(!settings){alert(q.notInit)}else{if(F>=0&&F<settings._rowOrder.length){var A=settings._rowOrder[F];for(var E=0;E<settings.columns.length;E++){if(settings.columns[E].name===B){return setCellCtrl(settings.columns[E].type,settings.idPrefix,B,A,C)}}}}}return null},getRowOrder:function(){var A=this,y=null;if(this.length==1){var z=A.data("appendGrid");if(z){y=z._rowOrder.slice()}else{alert(q.notInit)}}else{alert(q.getValueMultiGrid)}return y}};function d(M,E,L,I){var R=f(M).data("appendGrid");var Q=[],A=null,B,J,O=[];var C=M.getElementsByTagName("thead")[0];var G=M.getElementsByTagName("tbody")[0];if(f.isNumeric(I)){for(var F=0;F<R._rowOrder.length;F++){if(R._rowOrder[F]==I){L=F;if(F!=0){A=F-1}break}}}else{if(f.isNumeric(L)){if(L>=R._rowOrder.length){L=null}else{A=L-1}}else{if(R._rowOrder.length!=0){L=null;A=R._rowOrder.length-1}}}if(R._rowOrder.length==0){f("tr.empty",M).remove()}for(var F=0;F<E;F++){R._uniqueIndex++;B=R._uniqueIndex;O.length=0;if(f.isNumeric(L)){R._rowOrder.splice(L,0,B);tbRow=G.insertRow(L);Q.push(L)}else{R._rowOrder.push(B);tbRow=G.insertRow(-1);Q.push(R._rowOrder.length-1)}tbRow.id=R.idPrefix+"_Row_"+B;f(tbRow).data("appendGrid",B);if(!R.hideRowNumColumn){tbCell=tbRow.insertCell(-1);f(tbCell).addClass("ui-widget-content first").text(R._rowOrder.length)}for(var H=0;H<R.columns.length;H++){if(R.columns[H].type=="hidden"){O.push(H);continue}tbCell=tbRow.insertCell(-1);tbCell.className="ui-widget-content";if(R.columns[H].cellCss!=null){f(tbCell).css(R.columns[H].cellCss)}J=null;if(R.columns[H].type=="custom"){if(typeof(R.columns[H].customBuilder)=="function"){J=R.columns[H].customBuilder(tbCell,R.idPrefix,R.columns[H].name,B)}}else{if(R.columns[H].type=="select"){J=document.createElement("select");J.id=R.idPrefix+"_"+R.columns[H].name+"_"+B;J.name=J.id;if(f.isArray(R.columns[H].ctrlOptions)){if(R.columns[H].ctrlOptions.length>0){if(f.isPlainObject(R.columns[H].ctrlOptions[0])){for(var K=0;K<R.columns[H].ctrlOptions.length;K++){J.options[J.options.length]=new Option(R.columns[H].ctrlOptions[K].label,R.columns[H].ctrlOptions[K].value)}}else{for(var K=0;K<R.columns[H].ctrlOptions.length;K++){J.options[J.options.length]=new Option(R.columns[H].ctrlOptions[K],R.columns[H].ctrlOptions[K])}}}}else{if(f.isPlainObject(R.columns[H].ctrlOptions)){for(var K in R.columns[H].ctrlOptions){J.options[J.options.length]=new Option(R.columns[H].ctrlOptions[K],K)}}else{if(typeof(R.columns[H].ctrlOptions)=="string"){var P=R.columns[H].ctrlOptions.split(";");for(var K=0;K<P.length;K++){var S=P[K].indexOf(":");if(-1==S){J.options[J.options.length]=new Option(P[K],P[K])}else{J.options[J.options.length]=new Option(P[K].substring(S+1,P[K].length),P[K].substring(0,S))}}}}}tbCell.appendChild(J)}else{if(R.columns[H].type=="checkbox"){J=document.createElement("input");J.type="checkbox";J.id=R.idPrefix+"_"+R.columns[H].name+"_"+B;J.name=J.id;J.value=1;tbCell.appendChild(J);tbCell.style.textAlign="center"}else{if(-1!=R.columns[H].type.search(/^(color|date|datetime|datetime\-local|email|month|number|range|search|tel|time|url|week)$/)){J=document.createElement("input");try{J.type=R.columns[H].type}catch(D){}J.id=R.idPrefix+"_"+R.columns[H].name+"_"+B;J.name=J.id;tbCell.appendChild(J)}else{J=document.createElement("input");J.type="text";J.id=R.idPrefix+"_"+R.columns[H].name+"_"+B;J.name=J.id;tbCell.appendChild(J);if(R.columns[H].type=="ui-datepicker"){f(J).datepicker(R.columns[H].uiOption)}else{if(R.columns[H].type=="ui-spinner"){f(J).spinner(R.columns[H].uiOption)}else{if(R.columns[H].type=="ui-autocomplete"){f(J).autocomplete(R.columns[H].uiOption)}}}}}}}if(R.columns[H].type!="custom"){if(R.columns[H].ctrlAttr!=null){f(J).attr(R.columns[H].ctrlAttr)}if(R.columns[H].ctrlProp!=null){f(J).prop(R.columns[H].ctrlProp)}if(R.columns[H].ctrlCss!=null){f(J).css(R.columns[H].ctrlCss)}if(R.columns[H].ctrlClass!=null){f(J).addClass(R.columns[H].ctrlClass)}if(R.columns[H].uiTooltip){f(J).tooltip(R.columns[H].uiTooltip)}if(typeof(R.columns[H].onClick)=="function"){f(J).click({caller:M,callback:R.columns[H].onClick,uniqueIndex:B},function(y){y.data.callback(y,f(y.data.caller).appendGrid("getRowIndex",y.data.uniqueIndex))})}if(typeof(R.columns[H].onChange)=="function"){f(J).change({caller:M,callback:R.columns[H].onChange,uniqueIndex:B},function(y){y.data.callback(y,f(y.data.caller).appendGrid("getRowIndex",y.data.uniqueIndex))})}}if(!l(R.columns[H].value)){m(R,H,B,R.columns[H].value)}}if(!R._hideLastColumn||R.columns.length>R._visibleCount){tbCell=tbRow.insertCell(-1);tbCell.className="ui-widget-content last";if(R._hideLastColumn){tbCell.style.display="none"}if(!R.hideButtons.insert){f(tbCell).append(f("<button/>").addClass("insert",R._buttonClasses.insert).val(B).attr({id:R.idPrefix+"_Insert_"+B,type:"button",title:R._i18n.insert,tabindex:-1}).button({icons:{primary:"ui-icon-arrowreturnthick-1-w"},text:false}).click(function(){f(M).appendGrid("insertRow",1,null,this.value)}))}if(!R.hideButtons.remove){f(tbCell).append(f("<button/>").addClass("remove",R._buttonClasses.remove).val(B).attr({id:R.idPrefix+"_Delete_"+B,type:"button",title:R._i18n.remove,tabindex:-1}).button({icons:{primary:"ui-icon-trash"},text:false}).click(function(){i(M,null,this.value,false)}))}if(!R.hideButtons.moveUp){f(tbCell).append(f("<button/>").addClass("moveUp",R._buttonClasses.moveUp).val(B).attr({id:R.idPrefix+"_MoveUp_"+B,type:"button",title:R._i18n.moveUp,tabindex:-1}).button({icons:{primary:"ui-icon-arrowthick-1-n"},text:false}).click(function(){f(M).appendGrid("moveUpRow",null,this.value)}))}if(!R.hideButtons.moveDown){f(tbCell).append(f("<button/>").addClass("moveDown",R._buttonClasses.moveDown).val(B).attr({id:R.idPrefix+"_MoveDown_"+B,type:"button",title:R._i18n.moveDown,tabindex:-1}).button({icons:{primary:"ui-icon-arrowthick-1-s"},text:false}).click(function(){f(M).appendGrid("moveDownRow",null,this.value)}))}if(R.rowDragging){f("<div/>").addClass("rowDrag ui-state-default ui-corner-all",R._buttonClasses.rowDrag).attr("title",R._i18n.rowDrag).append(f("<div/>").addClass("ui-icon ui-icon-carat-2-n-s")).appendTo(tbCell)}for(var H=0;H<O.length;H++){J=document.createElement("input");J.id=R.idPrefix+"_"+R.columns[O[H]].name+"_"+B;J.name=J.id;J.type="hidden";if(!l(R.columns[O[H]].value)){J.value=R.columns[O[H]].value}tbCell.appendChild(J)}if(R.customRowButtons&&R.customRowButtons.length){for(var H=R.customRowButtons.length-1;H>=0;H--){var N=R.customRowButtons[H];if(N&&N.uiButton&&N.click&&N.atTheFront){f(tbCell).prepend(v(M,N,B))}}for(var H=0;H<R.customRowButtons.length;H++){var N=R.customRowButtons[H];if(N&&N.uiButton&&N.click&&!N.atTheFront){f(tbCell).append(v(M,N,B))}}}}}b(M,R);if(f.isNumeric(L)){if(typeof(R.afterRowInserted)=="function"){R.afterRowInserted(M,A,Q)}}else{if(typeof(R.afterRowAppended)=="function"){R.afterRowAppended(M,A,Q)}}return{addedRows:Q,parentIndex:A,rowIndex:L}}function o(y,A){var z=f("<button/>").attr({type:"button",tabindex:-1}).button(A.uiButton).click({tbWhole:y},A.click);if(A.btnClass){z.addClass(A.btnClass)}if(A.btnCss){z.css(A.btnCss)}if(A.btnAttr){z.attr(A.btnAttr)}return z}function v(z,B,y){var A=f("<button/>").val(y).attr({type:"button",tabindex:-1}).button(B.uiButton).click({tbWhole:z,uniqueIndex:y},function(C){var D=f(C.data.tbWhole).appendGrid("getRowValue",null,C.data.uniqueIndex);B.click(C,C.data.uniqueIndex,D)});if(B.btnClass){A.addClass(B.btnClass)}if(B.btnCss){A.css(B.btnCss)}if(B.btnAttr){A.attr(B.btnAttr)}return A}function i(A,G,y,D){var B=f(A).data("appendGrid");var F=A.getElementsByTagName("tbody")[0];if(f.isNumeric(y)){for(var E=0;E<B._rowOrder.length;E++){if(B._rowOrder[E]==y){G=E;break}}}if(f.isNumeric(G)){if(D||typeof(B.beforeRowRemove)!="function"||B.beforeRowRemove(A,G)){B._rowOrder.splice(G,1);F.deleteRow(G);b(A,B);r(A,G);if(typeof(B.afterRowRemoved)=="function"){B.afterRowRemoved(A,G)}}}else{if(D||typeof(B.beforeRowRemove)!="function"||B.beforeRowRemove(A,B._rowOrder.length-1)){y=B._rowOrder.pop();F.deleteRow(-1);b(A,B);if(typeof(B.afterRowRemoved)=="function"){B.afterRowRemoved(A,null)}}}if(B._rowOrder.length==0){var C=f("<td></td>").text(B._i18n.rowEmpty).attr("colspan",B._finalColSpan);f("tbody",A).append(f("<tr></tr>").addClass("empty").append(C))}}function r(y,C){var A=f(y).data("appendGrid");if(!A.hideRowNumColumn){for(var B=C;B<A._rowOrder.length;B++){f("#"+A.idPrefix+"_Row_"+A._rowOrder[B]+" td.first",y).text(B+1)}}}function a(E,A,D){var I,C,z,F,H;var B=f(E).data("appendGrid");if(B){I=E.getElementsByTagName("tbody")[0];f(I).empty();B._rowOrder.length=0;B._uniqueIndex=0;if(A!=null&&A.length){H=d(E,A.length,null,null);for(var y=0;y<H.addedRows.length;y++){for(var G=0;G<B.columns.length;G++){m(B,G,B._rowOrder[y],A[y][B.columns[G].name])}}}B._isDataLoaded=true;if(D){B.initData=null}f(E).data("appendGrid",B);if(typeof(B.dataLoaded)=="function"){B.dataLoaded(E)}}}function g(y,A){for(var B=0;B<A._rowOrder.length;B++){if(A._rowOrder[B]==y){return B}}return null}function l(y){return typeof(y)=="undefined"||y==null}function x(z,y){if(!l(z)&&f.isPlainObject(z)&&!l(z[y])){return z[y]}return null}function b(y,z){f(y).data("appendGrid",z);f("#"+z.idPrefix+"_rowOrder",y).val(z._rowOrder.join())}function w(A,y){var C=null;for(var B=0;B<A._rowOrder.length;B++){if(A._rowOrder[B]==y){return B}}return C}function h(C,A,E){var y={},B=null;for(var D=0;D<C.columns.length;D++){B=C.columns[D].name+(l(E)?"":"_"+E);y[B]=c(C,D,A)}return y}function c(C,A,y){var D=null,B=C.columns[A].type,z=C.columns[A].name;if(B=="checkbox"){D=t(B,C.idPrefix,z,y);if(D==null){return null}else{return D.checked?1:0}}else{if(B=="custom"){if(typeof(C.columns[A].customGetter)=="function"){return C.columns[A].customGetter(C.idPrefix,z,y)}else{return null}}else{D=t(B,C.idPrefix,z,y);if(D==null){return null}else{return D.value}}}}function t(A,B,z,y){return document.getElementById(B+"_"+z+"_"+y)}function m(C,A,y,D){var B=C.columns[A].type;var z=C.columns[A].name;if(B=="checkbox"){t(B,C.idPrefix,z,y).checked=(D!=null&&D!=0)}else{if(B=="custom"){if(typeof(C.columns[A].customSetter)=="function"){C.columns[A].customSetter(C.idPrefix,z,y,D)}}else{t(B,C.idPrefix,z,y).value=(D==null?"":D)}}}function n(A,F,y,B){var C=f(A).data("appendGrid");var E=-1;for(var D=0;D<C._rowOrder.length;D++){if(C._rowOrder[D]==y){if(F){E=B;C._rowOrder.splice(D,1);C._rowOrder.splice(B,0,y)}else{E=D;C._rowOrder.splice(B+1,0,y);C._rowOrder.splice(D,1)}break}}r(A,E);b(A,C)}f.fn.appendGrid=function(y){if(j[y]){return j[y].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof(y)==="object"||!y){return j.init.apply(this,arguments)}else{f.error(q.notSupportMethod+y)}}}})(jQuery);